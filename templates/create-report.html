{% extends 'base.html'%}

{% block title %}
Создать инженерный отчёт
{% endblock %}

{% block add_scripts %}
        <script>
            function addText(Button) {
                var input = document.getElementById('reportTags');
                input.value = input.value + Button.textContent + ' ';
            }
        </script>
{% endblock %}

{%block body %}
        <div class="d-flex flex-column flex-md-row align-items-center p-3 px-md-4 mb-3 bg-white border-bottom shadow-sm">
          <nav class="my-2 my-md-0 mr-md-3">
            <a class="p-2 text-dark" href="#">Создать инженерный отчёт</a>
            <a class="p-2 text-dark" href="/create-switching-report">Создать отчёт о коммутации</a>
            <a class="p-2 text-dark" href="/reports">Инженерные отчёты</a>
              <a class="p-2 text-dark" href="/switching-reports">Отчёты о коммутации</a>
          </nav>
        </div>
        <div class="container">
            <form method="post">
                <div id='input-form-2' class="col-md-6 mb-3" style="float: right;">
                    <label for="reportRemarks">Замечания</label>
                    <textarea class="form-control" id="reportRemarks" name="reportRemarks" rows="13" cols="50" placeholder=""></textarea>
                </div>
                <div id='input-form' class="col-md-6 mb-3">
                    <label for="userName">Имя пользователя</label>
                    <input type="text" class="form-control" id="userName" name="userName" placeholder="Введите имя своей учётной записи" value="" required="" maxlength="64">
                    <div class="invalid-feedback">
                      Необходимо ввести имя пользователя.
                    </div>

                    <label for="reportSummary">Описание</label>
                    <input type="text" class="form-control" id="reportSummary" name="reportSummary" placeholder="" value="" required="" maxlength="300">
                    <div class="invalid-feedback">
                      Необходимо ввести краткое описание отчёта.
                    </div>

                    <label for="reportTags">Тэги</label>
                    <input type="text" class="form-control" id="reportTags" name="reportTags" placeholder="" value="" required="" maxlength="300">
                    <div class="invalid-feedback">
                      Необходимо проставить соответствующие тэги к отчёту.
                    </div>

                    <br>
                    {% if tags|length > 0 %}
                        {% for tag in tags%}
                            <button class="btn btn-warning" type="button" onclick="addText(this)" name="{{tag}}_button">{{ tag }}</button>
                        {% endfor %}
                    {% endif %}
                    <br>
                    <hr class="mb-4">

                    <label for="reportDescription">Подробное описание</label>
                    <textarea class="form-control" id="reportDescription" name="reportDescription" rows="10" cols="50" placeholder="" required=""></textarea>
                    <div class="invalid-feedback">
                      Необходимо ввести подробное описание отчёта.
                    </div>
                    <hr class="mb-4">
                    <button class="btn btn-primary btn-lg btn-block" type="submit">Отправить отчёт</button>
                </div>
            </form>
        </div>
{% endblock %}
