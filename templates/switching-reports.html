{% extends 'base.html'%}

{% block title %}
All reports
{% endblock %}

{%block body %}
        <div class="d-flex flex-column flex-md-row align-items-center p-3 px-md-4 mb-3 bg-white border-bottom shadow-sm">
          <nav class="my-2 my-md-0 mr-md-3">
            <a class="p-2 text-dark" href="/create-report">Create a report</a>
            <a class="p-2 text-dark" href="/create-switching-report">Create a switching report</a>
            <a class="p-2 text-dark" href="/reports">Reports</a>
              <a class="p-2 text-dark" href="/switching-reports">Switching reports</a>
          </nav>
        </div>
        <form action='/sw_filter_reports' method="POST">
            <div style="float: left; margin-left:50px;">
                <div>
                        <label for="sortStartTime">From</label><br>
                        <input type="datetime-local" id="sortStartTime" name="sortStartTime" placeholder="" value="">
                        <br>
                </div>
                <div>
                        <label for="sortEndTime">To</label><br>
                        <input type="datetime-local" id="sortEndTime" name="sortEndTime" placeholder="" value="">
                        <br>
                </div>
                <div>
                    <button class="btn btn-primary btn-lg" type="submit" style="margin-top: 15px;">Filter</button>
                </div>
            </div>
        </form>
        <div class="container mt-5">
            <div class="md-form mt-0">
                <form action="/sw_search" method="POST">
                    <input class="form-control" type="text" placeholder="Search" aria-label="Search" name="search_string">
                </form>
            </div>
            <br>

            <h1>All switching reports</h1>

            {% if switching_reports|length > 0 %}
                {% for sw_rep in switching_reports %}
                <div class="alert alert-info">
                    <h2>{{sw_rep.work_type}} for {{sw_rep.customer}}</h2>
                    <p><b>Creation date:</b> {{ sw_rep.date }}</p>
                    <p><b>Shift:</b> {{sw_rep.shift_comp}}</p>
                    <p><b>Broadcast start time:</b> {{sw_rep.start_time}}</p>
                    <p><b>Broadcast end time:</b> {{sw_rep.end_time}}</p>
                    <p><b>Source:</b> {{sw_rep.source}}</p>
                    <p><b>Destination:</b> {{sw_rep.destination}}</p>
                    <a href="/switching-reports/id={{ sw_rep.id }}">Description</a>
                </div>
                {% endfor %}
            {% else %}
                <p>No switching reports were found in database.</p>
            {% endif %}
        </div>
{% endblock %}